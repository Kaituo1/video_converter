# 视频格式转换器

一个功能强大、界面友好的视频格式转换工具，基于Python和FFmpeg开发。

## 功能特点

### 📋 核心功能
- 支持多种视频格式转换
- 提供直观的图形用户界面
- 支持批量文件转换
- 支持自定义分辨率和码率
- 支持GPU加速转换（NVIDIA/AMD/Intel）
- 提供高质量输出选项

### 🎨 界面特点
- 简洁美观的现代化设计
- 响应式布局，适配多种分辨率
- 实时转换进度显示
- 详细的转换日志
- 支持横竖屏视频转换

### ⚡ 高级功能
- 支持停止转换操作
- 自动删除不完整的输出文件
- 自动打开输出目录
- 检测系统GPU并自动选择最佳加速方式
- 支持多分辨率选择
- 支持自定义码率设置

## 支持的格式

### 输入格式
- 支持几乎所有常见视频格式（MP4, MKV, AVI, WMV, MOV, FLV, WEBM, MPG, MPEG, 3GP等）

### 输出格式
- MP4
- MKV
- AVI
- WMV
- MOV
- FLV
- MPEG
- 3GP

## 安装说明

### 环境要求
- Windows操作系统
- Python 3.6或更高版本
- FFmpeg（需要安装并添加到系统PATH）

### 安装步骤

1. **安装Python**
   - 从[Python官网](https://www.python.org/)下载并安装Python 3.6+
   - 确保勾选"Add Python to PATH"

2. **安装FFmpeg**
   - 从[FFmpeg官网](https://ffmpeg.org/download.html)下载Windows版本
   - 解压下载的文件
   - 将FFmpeg的bin目录添加到系统PATH环境变量

3. **运行程序**
   - 直接运行`video_converter.py`文件
   - 或使用命令行：`python video_converter.py`

## 使用方法

1. **添加文件**
   - 点击"添加文件"按钮选择单个或多个视频文件
   - 或点击"添加文件夹"按钮选择包含视频文件的文件夹

2. **设置输出参数**
   - **输出目录**：默认使用程序目录下的`output`文件夹
   - **输出格式**：选择想要转换的目标格式
   - **分辨率**：选择目标分辨率（支持原始分辨率、4K、2K、1080p、720p等，包括横竖屏）
   - **视频码率**：选择视频码率（自动、50 Mbps、40 Mbps、30 Mbps、20 Mbps、10 Mbps、5 Mbps）
   - **GPU加速**：自动检测并显示可用的GPU加速选项

3. **开始转换**
   - 点击"开始转换"按钮开始转换过程
   - 转换过程中可以查看实时进度和日志
   - 点击"停止转换"按钮可以停止正在进行的转换

4. **查看结果**
   - 转换完成后，会自动打开输出目录
   - 输出文件命名格式：`原始文件名_converted.目标格式`

## 技术细节

### 开发语言
- Python 3.x

### 依赖库
- Tkinter（GUI框架，Python标准库）
- subprocess（执行FFmpeg命令）
- threading（多线程处理）
- os（文件系统操作）
- sys（系统信息）

### FFmpeg参数
- 默认高质量参数：`-crf 18 -preset slow`
- 支持的GPU加速编码器：
  - NVIDIA：`h264_nvenc`
  - AMD：`h264_amf`
  - Intel：`h264_qsv`

## 常见问题

### 1. 程序提示"未找到FFmpeg"
- 确保FFmpeg已正确安装
- 确保FFmpeg已添加到系统PATH环境变量
- 可以从FFmpeg官网重新下载并安装

### 2. 转换失败，返回非0返回码
- 检查输入文件是否损坏
- 检查输出目录是否有写入权限
- 尝试使用不同的输出格式
- 查看转换日志获取详细错误信息

### 3. 转换速度慢
- 确保已启用GPU加速
- 尝试降低输出分辨率或码率
- 关闭其他占用系统资源的程序

### 4. 转换后视频质量差
- 尝试提高码率设置
- 选择更高的分辨率
- 确保使用高质量输出参数

## 界面预览

![视频格式转换器界面](界面预览.png)（请替换为实际界面截图）

## 许可证

本项目采用MIT许可证，可自由使用和修改。

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的视频格式转换
- 支持GPU加速
- 支持批量转换

### v1.1.0
- 优化界面设计
- 添加横竖屏分辨率选项
- 支持停止转换功能
- 优化FFmpeg命令执行

### v1.2.0
- 修复停止转换后提示成功的问题
- 添加删除不完整文件功能
- 删除WEBM和MPG输出格式
- 优化错误处理

## 联系我们

如果您在使用过程中遇到问题或有任何建议，欢迎通过以下方式联系我们：

- 提交Issue到GitHub仓库
- 发送邮件至：contact@example.com

---

**视频格式转换器 - 让视频转换变得简单！** 🎬